@using Sitecore.Mvc
@using Sitecore.Web.UI.Controls.Common.UserControls
@model Sitecore.Mvc.Presentation.RenderingModel
@{
    var rendering = Html.Sitecore().Controls().GetUserControl(Model.Rendering);
	rendering.Requires.Script("client", "country.js");
	var htmlAttr = rendering.HtmlAttributes;
}

 <link rel="stylesheet" href="~/sitecore/shell/client/Applications/ExperienceAnalytics/Dashboard/Forecasting/bootstrap.sitecore.analytics.css" />
 <link rel="stylesheet" href="~/sitecore/shell/client/Applications/ExperienceAnalytics/Dashboard/Forecasting/forecast.css" />


<div @htmlAttr class="sc-border sc_Border_200 data-sc-registered" style="padding: 15px;background-color: #ffffff;font-family: Montserrat, sans-serif;">

        <div class="row my-4">
            <div class="col pl-md-4" style="font-size: 12pt;">Choose a country</div>
            <div class="w-100 mx-3 border-bottom-highlight"></div>
        </div>

        <div class="row my-3">
            <div class="offset-1 col">
                <div class="list-inline button-bar" style="font-size: 1.2em;" id="CountryList">                
                </div>
            </div>
        </div>

        <div id="plot" class="row my-4 d-none">
            <div class="col pl-md-4" style="font-size: 12pt">
                <span id="labelItem" class="font-weight-bold">United Kingdom</span>  - Sales Forecast Prediction (Next month)
            </div>
            <div class="w-100 mx-3 border-bottom-highlight"></div>
            <div id="lineChart" class="col-12 col-sm-11 col-md-10 my-2 mx-auto responsive-plot" style="height: 355px;">
            </div>
        </div>

        <div id="tableHeader" class="row mt-4 d-none">
            <div class="col pl-md-4" style="font-size: 12pt">
                <span id="tableHeaderCaption" class="font-weight-bold">Sales month / $</span>
            </div>
            <div class="w-100 mx-3 border-bottom-highlight"></div>
        </div>

        <div id="tableHistory" class="row mb-5 d-none">
            <div class="offset-1 col-10 offset-md-2 col-md-4 mb-5 mb-md-0">
                <div id="historyTable" class="row" style="font-size: 8pt; margin-top: 12px;display: flex;-ms-flex-wrap: wrap;flex-wrap: wrap;">
                </div>
            </div>
            <div class="offset-1 col-10 offset-md-2 col-md-3" style="font-size: 14pt; line-height: 1">
                <div class="row h-100 align-items-center justify-content-center" style="margin-top: 100px;">
                    <div class="col-5 col-md" style="line-height: 1.2">
                        <div class="mt-0">
                            <span class="text-nowrap">Total</span><br />
                            <span id="labelTotal" class="text-nowrap" style="font-size: 13pt;"></span><br />
                            <span id="valueTotal" class="font-weight-bold" style="font-size: 27pt;">0</span>
                        </div>
                        <div class="mt-5">
                            <span class="font-weight-bold">Forecast</span><br />
                            <span id="labelForecast" class="text-nowrap" style="font-size: 13pt;"></span><br />
                            <span id="valueForecast" class="font-weight-bold es-color" style="font-size: 26pt;"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

<script type="text/javascript">
	 var apiUri = {
        countryforecast: '@Sitecore.Configuration.Settings.GetSetting("SitecoreApi_CountryForecast")',
		countrylist: '@Sitecore.Configuration.Settings.GetSetting("SitecoreApi_CountryList")',
		countryhistory: '@Sitecore.Configuration.Settings.GetSetting("SitecoreApi_CountryHistory")'
    };
</script>

